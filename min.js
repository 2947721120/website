!function(e){function r(e){var r,a=document,t=e;if(a.body.createTextRange)r=a.body.createTextRange(),r.moveToElementText(t),r.select();else if(window.getSelection){var o=window.getSelection();r=a.createRange(),r.selectNodeContents(t),o.removeAllRanges(),o.addRange(r)}}function a(){var r=e.cookie("favorites");return r&&r.split(",")||["json2","handlebarsjs","jqueryui","fancybox","bootstrap-datepicker","html5shiv","momentjs","angular-ui-bootstrap","underscorejs","modernizr","foundation","lodashjs","d3","angularjs","font-awesome","twitter-bootstrap","jquery"]}function t(r){_.each(r,function(r){r="#"+r;var a=e(r),t=a.clone(!0);a.remove(),t.addClass("favorite"),e("#example tbody").prepend(t)})}function o(e,r){var a=[],t=e.length,o=r.length;if(0==t)return o;if(0==o)return t;for(var n=t;n>=0;n--)a[n]=[];for(var n=t;n>=0;n--)a[n][0]=n;for(var c=o;c>=0;c--)a[0][c]=c;for(var n=1;t>=n;n++)for(var i=e.charAt(n-1),c=1;o>=c;c++){if(n==c&&a[n][c]>4)return t;var l=r.charAt(c-1),s=i==l?0:1,h=a[n-1][c]+1,u=a[n][c-1]+1,d=a[n-1][c-1]+s;h>u&&(h=u),h>d&&(h=d),a[n][c]=h,n>1&&c>1&&i==r.charAt(c-2)&&e.charAt(n-2)==l&&(a[n][c]=Math.min(a[n][c],a[n-2][c-2]+s))}return a[t][o]}function n(r){if($rowCache=$rowCache||e(rowSelector),r.length>0){var a=[];cleanSearchVal=r.replace(/\./g,"").toLowerCase();for(var t=0;t<libraryNameCache.length;t++){var n=libraryNameCache[t];e("#"+n);var c=o(n,r),i=-1!==n.toLowerCase().indexOf(cleanSearchVal);(i||2>c)&&a.push({name:n,levDist:c})}a=_.sortBy(a,function(e){return e.levDist}),e(matchedRowSelector).empty(),$rowCache.hide();for(var l=0;l<a.length;l++){var s=a[l],h=_.findWhere($rowCache,{id:s.name}),u=e(h).clone(!0).show();u.addClass("search-result"),e("#example tbody").append(u)}}else e(matchedRowSelector).empty(),$rowCache.show()}function c(r){var a=e(r.currentTarget).val();n(a)}e("#example .change-favorite").on("click",function(r){var o=a(),n=e(r.currentTarget).parents("tr")[0].id;_.contains(o,n)?_.isArray(o)&&o.length>0&&(_gaq.push(["_trackEvent","favorite","removed",n]),o=_.without(o,n)):(o.push(n),_gaq.push(["_trackEvent","favorite","added",n])),e("#example tr").removeClass("favorite"),t(o),e.cookie("favorites",o.join(","),{expires:365})}),e("p.library-url").on("mouseenter",function(a){r(e(a.currentTarget)[0])}),rowSelector="#example > tbody > tr",matchedRowSelector="#example tr.search-result",libraryNameCache=_.pluck(e(rowSelector),"id"),$rowCache=null,e("#search-box").on("keyup",_.debounce(c,300)),t(a()),e("#search-box").focus()}(jQuery);